# Командный проект по курсу «Профессиональная работа с Python»
<br>

## Цель проекта:
Разработать программу-бота для взаимодействия с базами данных социальной сети. Бот будет предлагать различные варианты людей для знакомств в социальной сети Вконтакте в виде диалога с пользователем.
<br><br>
## Модули и функции

### Модуль create_tables
Осуществляет подключение к базе. <br>
Создает таблицы БД:
+ searchers - список пользователей которые осуществляли поиск, включает searcherID (id записи) и vk_id (id пользователя в ВК);
+ requests - запросы пользователей, включает requestID (id записи), date_time (дата и время запроса), searcher_id (id пользователя сделавшего запрос, связано с searcherID таблицы searchers);
+ likes - результат поиска "лайкнутый" (занесенный в избранное) пользователем, включает likeID (id записи), searcher_id (id пользователя сделавшего запрос, связано с searcherID таблицы searchers), user_vkid (id пользователя в ВК который помещен в таблицу), name (имя пользователя в ВК который помещен в таблицу), surname (фамилия пользователя в ВК который помещен в таблицу), link (ссылка на пользователя в ВК который помещен в таблицу);
+ dislikes - результат поиска "дизлайкнутый" (помещенный в черный список) пользователем, включает dislikeID (id записи), searcher_id (id пользователя сделавшего запрос, связано с searcherID таблицы searchers), user_vkid (id пользователя в ВК который помещен в таблицу).

### Модуль insert_tables
Осуществяет подключение к БД. Добавляет записи в таблицы. Выводит записи из таблицы по запросу.

### Функция insert_searchers
Создает запись в таблице "searchers", на вход принимает id пользователя осуществявшего поиск.

### Функция insert_requests
Создает запись в таблице "requests", на вход принимает id пользователя осуществявшего поиск.

### Функция insert_likes
Создает запись в таблице "likes", на вход принимает id пользователя осуществлявшего поиск, а так же словарь включающий данные об имени и фамилии (ключ 'name') и url с id пользователя (ключ 'url').

### Функция insert_dislikes
Создает запись в таблице "dislikes", на вход принимает id пользователя осуществявшего поиск, а так же словарь включающий id пользователя (ключ 'url').

### Функция select_likes
Выводит выборку из созданной виртуальной таблицы с объединением таблиц "likes" и "searchers" по ключам searcher_id и searcherid. На вход принимает id пользователя осуществялвшего поиск.

### Модуль VK_bot
Модуль описывает взаимодействие с ботом в ВК.

### Функция write_msg
Функция отправки сообщений ботом. На вход принимает ID пользователя, сообщение которое отправит бот, клавиатура (по умолчанию None), вложение (по умолчанию None)

### Функция upload_photo
Функция загружает фото на сервер ВК. Возвращает строку в формате, который необходим для отправки ботом в сообщения. На вход принимает ссылку на фото из интернета.

### Модуль VK_search
Необходимо для реализации поиска по заданным параметрам и возврату значений поиска.

### Функция get_people
Функция возвращает людей по заданным параметрам в виде списка. На вход принимает город, диапазон возраста, пол (по умолчанию значение 0, что означает любой пол), количество возвращаемых результатов поиска (по умолчанию 20), смещение результатов поиска (по умолчанию None). 

### Функция vk_get_photo
Функция поиска фотографий по ID пользователя VK. Из всех найденных фотографий выбираются 3 с максимальным количеством лайков. На вход принимает id пользователя.

### Функция get_user_info
Функция получения информации со страницы пользователя ВК. Необходима для того, что бы сформировать параметры запроса в функцию get_people. На вход принимает id пользователя ВК, id сообщения. 

### Модуль main
Описывает основную логику программы, а такж же имеет описание кнопок для бота. 